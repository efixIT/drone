(function() {
  const gallery = document.getElementById('gallery');
  if (!gallery) {
    document.body.innerHTML += '<p style="color:#ff6666;">Gallery container missing.</p>';
    return;
  }
  gallery.innerHTML = ''; // clear loading

  // Add your models here – easy to expand
  const models = [
    {
      file: 'mfs-gaussian.html',
      title: 'MFS Gaussian',
      thumb: 'mfs-gaussian-thumb.png'
    }
    // Add new ones like:
    // { file: 'sports-field.html', title: 'Sports Field', thumb: 'sports-field-thumb.png' },
  ];

  if (models.length === 0) {
    gallery.innerHTML = '<p>No models added yet.</p>';
    return;
  }

  models.forEach(m => {
    const card = document.createElement('a');
    card.href = m.file;
    card.className = 'card';
    card.target = '_blank';

    const img = new Image();
    img.src = m.thumb;
    img.className = 'thumbnail';
    img.loading = 'lazy';
    img.alt = m.title;
    img.onerror = () => {
      const ph = document.createElement('div');
      ph.className = 'placeholder';
      ph.textContent = 'No Preview';
      card.querySelector('div').innerHTML = '';
      card.querySelector('div').appendChild(ph);
    };

    card.innerHTML = `
      <div class="thumb-container">${img.outerHTML}</div>
      <div class="info">
        <div class="title">${m.title}</div>
        <div class="desc">Gaussian splat model • Click to inspect</div>
      </div>
    `;

    gallery.appendChild(card);
  });
})();
